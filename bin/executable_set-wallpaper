#!/bin/sh

FILE="$(realpath -s $1)"

if [ ! -f "$FILE" ]; then
  echo "$FILE is not a valid file"
  exit 1
fi

TARGET="${HOME}/.config/wallpaper.png"
CURRES="$(xrandr | awk '/*/ {print $1}' | head -n 1)"
convert "$FILE" "$TARGET"
betterlockscreen -u "$TARGET" -r $CURRES -b 0.5
xwallpaper --zoom "$TARGET"
notify-send -i "Wallpaper changed."

# Font setup
font pango:Hack, Symbols Nerd Font 10

# Autostart backend applications
exec_always --no-startup-id ~/bin/wallpaper-set.sh
exec_always --no-startup-id ~/.config/polybar/launch.sh
exec --no-startup-id dex --autostart --environment i3
exec --no-startup-id xss-lock --transfer-sleep-lock -- lock.sh
exec --no-startup-id picom -b
exec --no-startup-id ~/.config/polybar/scripts/pulse_monitor.sh sink
exec --no-startup-id ~/.config/polybar/scripts/pulse_monitor.sh source
exec --no-startup-id ntfy sub --from-config

# Directional keys
set $left h
set $down j
set $up k
set $right l

# Set modifier key
set $mod Mod4

# Mouse modifiers
floating_modifier $mod
tiling_drag modifier titlebar

# Borders
default_border pixel 2
default_floating_border pixel 2

# Color theme
# class                 border      bground     text        indicator     child_border
client.focused          #ff79c6     #44475a     #f8f8f2     #50fa7b       #ff79c6
client.focused_inactive #6272a4     #282a36     #f8f8f2     #8be9fd       #6272a4
client.unfocused        #282a36     #282a36     #6272a4     #282a36       #282a36
client.urgent           #ff5555     #282a36     #f8f8f2     #ffb86c       #ff5555
client.placeholder      #f1fa8c     #282a36     #282a36     #f1fa8c       #f1fa8c

client.background       #282a36

# Kill focused window
bindsym $mod+q kill

# Focus and move bindings (hjkl + arrows)
bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right
bindsym $mod+Shift+$left move left
bindsym $mod+Shift+$down move down
bindsym $mod+Shift+$up move up
bindsym $mod+Shift+$right move right
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right
bindsym $mod+Control+$left move workspace to output left
bindsym $mod+Control+$down move workspace to output down
bindsym $mod+Control+$up move workspace to output up
bindsym $mod+Control+$right move workspace to output right
bindsym $mod+Control+Left move workspace to output left
bindsym $mod+Control+Down move workspace to output down
bindsym $mod+Control+Up move workspace to output up
bindsym $mod+Control+Right move workspace to output right

# Split, fullscreen, layout, floating, focus
bindsym $mod+b split h
bindsym $mod+v split v
bindsym $mod+f fullscreen toggle
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split
bindsym $mod+Shift+space floating toggle ; [floating] resize set 1024 768 ; move position center
bindsym $mod+space focus mode_toggle
bindsym $mod+a focus parent
bindsym $mod+Shift+a focus child
bindsym $mod+g floating enable, resize set 1920 1080, move position center
bindsym $mod+Shift+g floating enable, resize set 1600 900, move position center
bindsym $mod+Shift+Control+g floating enable, resize set 1280 720, move position center

# Scratchpad
bindsym $mod+Shift+minus move scratchpad
bindsym $mod+minus scratchpad show

# Workspace management
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"
bindsym $mod+1 workspace number $ws1
bindsym $mod+2 workspace number $ws2
bindsym $mod+3 workspace number $ws3
bindsym $mod+4 workspace number $ws4
bindsym $mod+5 workspace number $ws5
bindsym $mod+6 workspace number $ws6
bindsym $mod+7 workspace number $ws7
bindsym $mod+8 workspace number $ws8
bindsym $mod+9 workspace number $ws9
bindsym $mod+0 workspace number $ws10
bindsym $mod+Shift+1 move container to workspace number $ws1
bindsym $mod+Shift+2 move container to workspace number $ws2
bindsym $mod+Shift+3 move container to workspace number $ws3
bindsym $mod+Shift+4 move container to workspace number $ws4
bindsym $mod+Shift+5 move container to workspace number $ws5
bindsym $mod+Shift+6 move container to workspace number $ws6
bindsym $mod+Shift+7 move container to workspace number $ws7
bindsym $mod+Shift+8 move container to workspace number $ws8
bindsym $mod+Shift+9 move container to workspace number $ws9
bindsym $mod+Shift+0 move container to workspace number $ws10

# Assign Workspaces:
assign [class="firefox_firefox"] $ws2
assign [class="firefox"] $ws2
assign [class="Slack"] $ws3
assign [class="Codium"] $ws6
assign [class="Chromium"] $ws8

# Assign properties to windows
for_window [class="floating"] floating enable, resize set 1024 768, move position center
for_window [class="Galculator"] floating enable, move position center
for_window [class="qv4l2"] floating enable, move position center
for_window [class="Emulator"] floating enable, move position center
for_window [class="Sublime_text"] floating enable, resize set 1024 768, move position center
for_window [class="Surf"] floating enable, resize set 1024 768, move position center
for_window [class="Arandr"] floating enable

# Reload, restart, exit
bindsym $mod+Shift+c reload
bindsym $mod+Shift+r restart
bindsym $mod+Shift+q exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3?' -B 'Yes, exit i3' 'i3-msg exit'"

# Resize mode
mode "resize" {
    bindsym $left       resize shrink width 10 px or 10 ppt
    bindsym $down       resize grow height 10 px or 10 ppt
    bindsym $up         resize shrink height 10 px or 10 ppt
    bindsym $right      resize grow width 10 px or 10 ppt
    bindsym Left        resize shrink width 10 px or 10 ppt
    bindsym Down        resize grow height 10 px or 10 ppt
    bindsym Up          resize shrink height 10 px or 10 ppt
    bindsym Right       resize grow width 10 px or 10 ppt
    bindsym Return mode "default"
    bindsym Escape mode "default"
    bindsym $mod+r mode "default"
}
bindsym $mod+r mode "resize"

# Terminal and launcher
bindsym $mod+Return exec kitty
bindsym $mod+Shift+Return exec kitty -e yazi
bindsym $mod+d exec --no-startup-id "rofi -show combi"

# Application launchers
bindsym $mod+Shift+Control+a exec rofi-emulator
bindsym $mod+Shift+Control+e exec subl
bindsym $mod+Shift+Control+i exec intellij-idea-ultimate-edition
bindsym $mod+Shift+Control+j exec rofi-java
bindsym $mod+Shift+Control+k exec kitty -e kiro-cli
bindsym $mod+Shift+Control+m exec rofi-samba
bindsym $mod+Shift+Control+o exec obsidian
bindsym $mod+Shift+Control+p exec postman
bindsym $mod+Shift+Control+r exec galculator
bindsym $mod+Shift+Control+s exec slack
bindsym $mod+Shift+Control+t exec rofi-terraform
bindsym $mod+Shift+Control+v exec rofi-codium
bindsym $mod+Shift+Control+w exec rofi-browser
bindsym $mod+y exec rofi-yubikey direct
bindsym $mod+Shift+y exec rofi-yubikey clipboard
bindsym $mod+Shift+Control+z exec kitty --class=floating -e pulsemixer

# F-key bindings
bindsym $mod+F1 exec surf https://cheatsheets.mdekort.nl/
bindsym $mod+F9 exec pass clip -r
bindsym $mod+F10 exec rofi -modi Bitwarden:rofi-bw -show Bitwarden
bindsym $mod+F12 exec rofi -modi power:rofi-power -show power

# Audio bindings
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +2%
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -2%
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle
bindsym XF86AudioMicMute exec --no-startup-id pactl set-source-mute @DEFAULT_SOURCE@ toggle
bindsym $mod+bracketright exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +2%
bindsym $mod+bracketleft exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -2%
bindsym $mod+backslash exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle
bindsym $mod+z exec --no-startup-id pactl set-source-mute @DEFAULT_SOURCE@ toggle

# Brightness bindings
bindsym $mod+Up exec --no-startup-id brightnessctl s +10%
bindsym $mod+Down exec --no-startup-id brightnessctl s 10%-
bindsym XF86MonBrightnessUp exec --no-startup-id brightnessctl s +10%
bindsym XF86MonBrightnessDown exec --no-startup-id brightnessctl s 10%-

# Special bindings
bindsym $mod+x exec --no-startup-id xset s activate
bindsym $mod+Shift+x exec --no-startup-id systemctl suspend
bindsym $mod+p exec rofi-display
bindsym $mod+Shift+s exec --no-startup-id ssh -O exit '*'
bindsym $mod+Shift+p exec screensaver-toggle.sh && polybar-msg action "#screensaver.hook.0"
bindsym $mod+Home exec --no-startup-id wallpaper-set.sh
bindsym $mod+Shift+Home exec --no-startup-id ~/.config/polybar/launch.sh
bindsym $mod+Shift+Control+Home exec --no-startup-id "killall picom; sleep 0.5; picom --config ~/.config/picom/picom.conf &"

# Notification bindings
bindsym $mod+n exec --no-startup-id dunstctl set-paused toggle && polybar-msg action "#notify.hook.0"
bindsym $mod+Shift+n exec --no-startup-id dunstctl close-all
bindsym $mod+Control+Shift+n exec --no-startup-id dunstctl history-pop

# Screenshot bindings
bindsym Print exec --no-startup-id screenshot all
bindsym $mod+Print exec --no-startup-id screenshot window
bindsym $mod+Shift+Print exec --no-startup-id flameshot gui

# Keyboard layout bindings
bindsym Mod1+Shift+k exec --no-startup-id kb_switch.sh
